(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(t){e(1,arguments);var a=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===a?new Date(t.getTime()):"number"==typeof t||"[object Number]"===a?new Date(t):("string"!=typeof t&&"[object String]"!==a||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}var a=6e4;function n(e){return e.getTime()%a}function o(e){var t=new Date(e.getTime()),o=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var l=o>0?(a+n(t))%a:n(t);return o*a+l}function l(a){e(1,arguments);var n=t(a);return n.setHours(0,0,0,0),n}var s=864e5;function c(t,a){e(2,arguments);var n=l(t),c=l(a),r=n.getTime()-o(n),d=c.getTime()-o(c);return Math.round((r-d)/s)}function r(e,t){var a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function d(a,n){e(2,arguments);var o=t(a),l=t(n),s=r(o,l),d=Math.abs(c(o,l));o.setDate(o.getDate()-s*d);var i=r(o,l)===-s,m=s*(d-i);return 0===m?0:m}const i=()=>{const e=()=>{let e=document.querySelectorAll(".task-name");for(let t=0;t<e.length;t++)console.log(e[t].textContent)};return{StorageVal:(t,a)=>{e(),localStorage[t]=JSON.stringify(a),JSON.parse(localStorage.getItem(t))},repeatChecker:e,storeProjects:e=>{let t=JSON.parse(localStorage.getItem("!projectNames!"));t.push(e),localStorage.setItem("!projectNames!",JSON.stringify(t))},storeDateInfo:(e,t)=>{let a=JSON.parse(localStorage.getItem(t));a.dueDate=e,localStorage.setItem(t,JSON.stringify(a))}}},m=()=>{const e=(e,t,a)=>{let n=p(),o=m(),l=document.querySelectorAll(".task-name"),s=[],c=new Date,r=n.domDiffDate(a,c),d=new Date(a).toDateString(),i=o.setUpModal(e,d);for(let e=0;e<l.length;e++)s.push(l[e].textContent);0==s.includes(e)&&((e,t="",a="",n)=>{let o="";""==t?o=document.querySelector(".unique-current-project").id:""!=t&&(o=t);let l=g("task-content2",document.getElementById(o).childNodes,"class"),s=g("add-tasks",l.childNodes,"id"),c=n,r=document.createElement("li"),d=document.createElement("input"),i=document.createElement("button"),m=document.createElement("button"),u=document.createElement("button"),p=e.substring(0,14);r.id=e,d.type="checkbox",d.className="checkbox-item",i.className="task-name",i.textContent=p,u.className="days-remaining",u.textContent=a,m.classList="delete-button",m.textContent="X",r.appendChild(d),r.appendChild(i),r.appendChild(u),r.appendChild(m),r.appendChild(c),s.appendChild(r)})(e,t,r,i)};return{getData:()=>{for(let t=0;t<localStorage.length;t++)if("!"!=localStorage.key(t)[0]&&"!"!=localStorage.key(t).slice(-1)){let a=JSON.parse(localStorage.getItem(localStorage.key(t)));e(a.taskTitle,a.projectName,a.dueDate)}},setUpModal:(e,t)=>{let a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("span"),l=document.createElement("form"),s=document.createElement("b"),c=document.createElement("input"),r=document.createElement("input"),d=document.createElement("p"),i=document.createElement("p");return a.id="myModal",a.className="modal",n.className="modal-content",o.className="close-modal",o.innerHTML="&times;",l.className="date-form",s.textContent="Set Due Date: ",c.type="date",c.id="date-date",c.className="date-data",c.name="due-date",r.type="submit",r.value="Submit",d.textContent=`Task Name: ${e}`,i.textContent=`Due Date: ${t}`,l.appendChild(s),l.appendChild(c),l.appendChild(r),l.appendChild(d),l.appendChild(i),n.appendChild(o),n.appendChild(l),a.appendChild(n),a}}},u=()=>{let e=m();return{addProject:t=>{let a=document.getElementById("task-content"),n=document.getElementById("sidebar-tasks"),o=document.createElement("li"),l=document.createElement("button"),s=document.createElement("div"),c=document.createElement("div"),r=document.createElement("ul"),d=document.createElement("li"),i=document.createElement("input"),m=document.createElement("button"),u=document.createElement("button"),p=e.setUpModal();s.id=t,s.className="tab-content",s.style="display: none",c.className="task-content2",r.id="add-tasks",d.id="Example task",i.className="checkbox-item",i.type="checkbox",m.className="task-name",m.textContent="Example task",u.className="delete-button",u.textContent="X",l.className="proj-name",d.appendChild(i),d.appendChild(m),d.appendChild(u),d.appendChild(p),r.appendChild(d),c.appendChild(r),s.appendChild(c),a.appendChild(s),l.textContent=t,o.appendChild(l),n.appendChild(o)},loadAllProjects:()=>{let e=u(),t=JSON.parse(localStorage.getItem("!projectNames!"));if(null!=t)for(let a=0;a<t.length;a++)e.addProject(t[a])}}},p=()=>({setDate:()=>{let e=document.querySelectorAll("#add-tasks");function t(e){if("BUTTON"===e.target.nodeName&&"task-name"==e.target.className){let t=g("myModal",e.target.parentNode.childNodes,"id"),a=g("modal-content",t.childNodes,"class"),n=g("close-modal",a.childNodes,"class");t.style.display="block",n.onclick=function(e){e.stopPropagation(),t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}}}Array.from(e).forEach((function(e){e.addEventListener("click",t)}))},domDiffDate:(e,t,a="")=>{if(""==a){if(""===e)return"Days Left: Unassigned";let t=new Date;return`Days Left: ${d(new Date(e),t)} days`}{let n=d(e,t);g("days-remaining",a.parentNode.childNodes,"class").textContent="Days left: "+n+" days";let o=g("myModal",a.parentNode.childNodes,"id").childNodes[0].childNodes[1].childNodes,l=e.toDateString();o[3].textContent=`Task Name: ${a.textContent}`,o[4].textContent=`Due date: ${l}`}}});function g(e,t,a){for(let n=0;n<t.length;n++)if("id"==a){if(t[n].id==e)return t[n]}else if("class"==a&&t[n].classList==e)return t[n]}function f(e){document.getElementById(e).value=""}let h=()=>{let e=document.querySelector(".unique-current-project");document.getElementById("sidebar-tasks").addEventListener("click",(function(t){if("BUTTON"===t.target.nodeName&&"proj-name"==t.target.className){let a=t.target.textContent,n=document.getElementsByClassName("tab-content");for(let e=0;e<n.length;e++)n[e].style.display="none";document.getElementById(a).style.display="block",e.id=a,document.querySelector(".h4-content").textContent=`${a} Tasks`}}))},y=(i(),m()),N=u(),k=p(),E={delTasks:()=>{document.querySelector("#task-content").addEventListener("click",(function(e){let t=e.target.parentNode,a=t.parentNode;var n;e.target.classList.contains("delete-button")&&confirm("Are you sure the Krabby Patty formula will be deleted, aka the task.")&&(a.removeChild(t),n=t.id,localStorage.removeItem(n))}))}},D=()=>{document.getElementById("task-content").addEventListener("click",(function(e){if(e.target.classList.contains("checkbox-item")){let t=e.target.parentNode.childNodes;if(1==e.target.checked)for(let e=0;e<t.length;e++)"task-name"==t[e].classList&&(t[e].classList="task-name line-through"),"days-remaining"==t[e].className&&(t[e].className="days-remaining line-through");else if(0==e.target.checked)for(let e=0;e<t.length;e++)"task-name line-through"==t[e].classList&&(t[e].classList="task-name"),"days-remaining line-through"==t[e].className&&(t[e].className="days-remaining")}}))};h(),null===localStorage.getItem("!projectNames!")&&(localStorage["!projectNames!"]=JSON.stringify([])),N.loadAllProjects(),y.getData(),k.setDate(),function(){let e=i(),t=p(),a=document.getElementsByClassName("date-form");function n(a){a.preventDefault();let n=g("date-date",a.target.childNodes,"id").value,o=new Date(n),l=new Date,s=a.target.parentNode.parentNode.parentNode.childNodes,c=g("task-name",s,"class").textContent,r=g("task-name",s,"class");e.storeDateInfo(o,c),t.domDiffDate(o,l,r)}document.getElementById("myModal"),Array.from(a).forEach((function(e){e.addEventListener("submit",n)}))}(),function(){let e=document.getElementById("form-input"),t=i(),a=m();e.addEventListener("keypress",(function(n){let o={taskValue:"",projectName:document.querySelector(".unique-current-project").id};if("Enter"===n.code&&(n.preventDefault(),o.taskValue=e.value,f("form-input"),""!=o.taskValue)){let e=((e,t,a="")=>{const n=()=>e,o=()=>t;return{changeDescription:e=>{a=e},noteDetails:()=>{console.log(` The Title is: ${o()} \n The project name is: ${n()}`)},setupData:()=>({projectName:n(),taskTitle:o(),description:a,dueDate:""})}})(o.projectName,o.taskValue);t.StorageVal(o.taskValue,e.setupData()),a.getData()}}))}(),function(){let e=u(),t=i();document.getElementById("project-form").addEventListener("keypress",(function(a){"Enter"===a.code&&(a.preventDefault(),t.storeProjects(a.target.value),e.addProject(a.target.value),f("form-input-project"))}))}(),D(),E.delTasks()})();